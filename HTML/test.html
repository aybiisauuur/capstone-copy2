<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FSL Quiz - Questions</title>
    <style>
        /* [All your existing CSS styles remain exactly the same] */
    </style>
</head>
<body>
    <!-- [All your existing HTML remains exactly the same] -->

    <script>
        // Pre-configured FSL videos and AI-generated questions
        const FSL_QUIZ_DATA = [
            // [All your existing question data remains exactly the same]
        ];

        // [All your existing DOM element selections remain the same]

        // Quiz state
        let currentQuestionIndex = 0;
        let questions = [];
        let score = 0;
        let selectedOption = null;
        let answerSubmitted = false;
        let userAnswers = [];

        // Initialize the app
        function init() {
            // Start the quiz immediately
            startQuiz();

            // Set up event listeners
            nextBtn.addEventListener('click', nextQuestion);
        }

        // Start a new quiz
        function startQuiz() {
            loadingElement.style.display = 'block';
            quizContainer.style.display = 'none';

            // Simulate loading time
            setTimeout(() => {
                // Shuffle all questions and select first 10
                const shuffledQuestions = [...FSL_QUIZ_DATA].sort(() => Math.random() - 0.5);
                questions = shuffledQuestions.slice(0, 10); // Take first 10 from shuffled array
                
                currentQuestionIndex = 0;
                score = 0;
                userAnswers = new Array(questions.length).fill(null);

                loadingElement.style.display = 'none';
                quizContainer.style.display = 'block';
                showQuestion();
                scoreDisplay.textContent = '';
            }, 800);
        }

        // [All your other existing functions remain exactly the same]
        // (updateProgress, showQuestion, selectOption, checkAnswer, nextQuestion, endQuiz)

        // Event listeners for modal buttons
        backBtn.addEventListener('click', () => {
            resultsModal.style.display = 'none';
            window.history.back();
        });

        tryAgainBtn.addEventListener('click', () => {
            resultsModal.style.display = 'none';
            startQuiz(); // This will reshuffle and select new 10 questions
        });

        // Start the app
        init();
    </script>
</body>
</html>